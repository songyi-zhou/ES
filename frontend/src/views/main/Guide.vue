<template>
  <div class="guide-container">
    <TopBar />
    <div class="content">
      <Sidebar />
      <main class="main-content">
        <div class="page-header">
          <h2>æ“ä½œæŒ‡å—</h2>
        </div>
        
        <section class="guide-card">
          <!-- æœç´¢æ¡† + æœç´¢æŒ‰é’® -->
          <div class="search-container">
            <input
                v-model="searchQuery"
                placeholder="æœç´¢æ“ä½œæŒ‡å—..."
                class="search-input"
                @keyup.enter="performSearch"
            />
            <button class="search-btn" @click="performSearch">ğŸ” æœç´¢</button>
          </div>

          <div class="guide-content">
            <p class="guide-intro">æœ¬é¡µé¢å¸®åŠ©ç”¨æˆ·äº†è§£æœ¬ç³»ç»Ÿçš„ç›¸å…³æ“ä½œï¼š</p>
            <ul class="guide-list">
              <li class="guide-section">
                <h3>åŸºç¡€åŠŸèƒ½</h3>
                <ul>
                  <li>ğŸ“‚ å¦‚æœ‰éœ€è¦ä¸Šä¼ è‡ªå·±çš„ç»¼æµ‹ææ–™ï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/evaluation/upload">ä¸Šä¼ ææ–™</router-link></li>
                  <li>ğŸ“Š å¦‚æœ‰éœ€è¦æŸ¥çœ‹è‡ªå·±çš„ç»¼æµ‹æˆç»©ï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/evaluation/view">ä¸ªäººç»¼æµ‹</router-link></li>
                  <li>ğŸ“œ å¦‚æœ‰éœ€è¦æŸ¥çœ‹ä¸­é˜Ÿç»¼æµ‹è¯„å®šç»†åˆ™ï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/evaluation/rules">ç»¼æµ‹ç»†åˆ™</router-link></li>
                  <li>âš™ï¸ å¦‚æœ‰éœ€è¦æŸ¥çœ‹ä¸ªäººä¿¡æ¯æˆ–è€…ä¿®æ”¹å¯†ç ï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/profile/view">ä¸ªäººä¸­å¿ƒ</router-link></li>
                  <li>ğŸ“‹ å¦‚æœ‰éœ€è¦æŸ¥çœ‹ç»¼åˆæµ‹è¯„æ¶‰åŠçš„ç›¸å…³è¯„å®šï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/evaluation/results">ç»¼æµ‹ç›¸å…³</router-link></li>
                  <li>ğŸ‘¥ å¦‚æœ‰éœ€è¦æŸ¥çœ‹è‡ªå·±çš„å·¥ä½œåˆ†é…ä¸ç­çº§ä¸Šä¼ çš„ææ–™ï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/evaluation/group-members">ç»¼æµ‹å°ç»„</router-link></li>
                </ul>
              </li>

              <li class="guide-section">
                <h3>ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å—</h3>
                <ul>
                  <li>ğŸ‘®â€â™‚ï¸ å¯¼å‘˜ç³»ç»Ÿæƒé™è®¾ç½®ï¼š<router-link to="/admin/instructor-permissions">æƒé™ç®¡ç†</router-link></li>
                  <li>ğŸ”’ ä¸‹å±æƒé™å®šåˆ¶ï¼š<router-link to="/admin/subordinate-permissions">æƒé™å®šåˆ¶</router-link></li>
                  <li>ğŸ‘¨â€ğŸ“ å­¦ç”Ÿä¿¡æ¯å¯¼å…¥ï¼š<router-link to="/admin/student-import">ä¿¡æ¯å¯¼å…¥</router-link></li>
                </ul>
              </li>

              <li class="guide-section">
                <h3>å¯¼å‘˜åŠŸèƒ½æ¨¡å—</h3>
                <ul>
                  <li>ğŸ“ ç»¼æµ‹ç»“æœæŸ¥çœ‹ï¼š<router-link to="/evaluation/review-evaluation-forms">ç»“æœæŸ¥çœ‹</router-link></li>
                  <li>ğŸ” ç–‘é—®ä¸ªäººææ–™å®¡æ ¸ï¼š<router-link to="/evaluation/review-question-materials">ææ–™å®¡æ ¸</router-link></li>
                  <li>ğŸ‘¥ ç»¼æµ‹å°ç»„é€‰å®šï¼š<router-link to="/evaluation/group-members-manage">å°ç»„é€‰å®š</router-link></li>
                </ul>
              </li>

              <li class="guide-section">
                <h3>å…¶ä»–åŠŸèƒ½</h3>
                <ul>
                  <li>ğŸ† å¦‚æœ‰éœ€è¦æŸ¥çœ‹ä¸‹å±ä¸­é˜Ÿçš„ç»¼æµ‹äº‹å®œï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/evaluation/review-materials">ä¸­é˜Ÿç»¼æµ‹ç®¡æ§</router-link></li>
                  <li>ğŸ“‘ å¦‚æœ‰éœ€è¦ä¸Šä¼ ä¸­é˜Ÿç»¼æµ‹æœ‰å…³çš„è§„å®šææ–™ï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/evaluation/upload-rules">ä¸Šä¼ ä¸­é˜Ÿææ–™</router-link></li>
                  <li>â“ å¦‚æœ‰å…¶ä»–ç–‘é—®æˆ–è€…éœ€æ±‚ï¼Œè¯·ç‚¹å‡»"æå‡ºé—®é¢˜"è¿›è¡Œç­”ç–‘ï¼š<router-link to="/system/feedback">æå‡ºç–‘é—®</router-link></li>
                  <li>ğŸ”„ å¦‚æƒ³æŸ¥çœ‹ç³»ç»Ÿæ›´æ–°æƒ…å†µï¼Œè¯·ç‚¹å‡»ï¼š<router-link to="/system/updates">æŸ¥çœ‹æ›´æ–°</router-link></li>
                </ul>
              </li>
            </ul>
          </div>
        </section>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from "vue";
import TopBar from "@/components/TopBar.vue";
import Sidebar from "@/components/Sidebar.vue";
import router from "@/router";

const searchQuery = ref("");

// è¿‡æ»¤æŒ‡å—
const filteredGuides = computed(() => {
  if (!searchQuery.value) return guides.value;
  return guides.value.filter((item) =>
      item.label.includes(searchQuery.value)
  );
});

// è§¦å‘æœç´¢
const performSearch = () => {
  console.log("æœç´¢å†…å®¹ï¼š", searchQuery.value);
  // å¯ä»¥åœ¨æ­¤æ‰©å±•æœç´¢é€»è¾‘ï¼Œå¦‚è·³è½¬åˆ°æœç´¢ç»“æœé¡µé¢
};
</script>

<style scoped>
.guide-container {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.content {
  display: flex;
  flex: 1;
  overflow: hidden;
}

.main-content {
  flex: 1;
  padding: 20px;
  background: #f5f7fa;
  overflow-y: auto;
  min-width: 0;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
}

.page-header h2 {
  font-size: 24px;
  color: #303133;
  margin: 0;
  font-weight: 600;
}

.guide-card {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
  padding: 24px;
}

.search-container {
  display: flex;
  gap: 12px;
  margin-bottom: 24px;
}

.search-input {
  flex: 1;
  padding: 8px 12px;
  border: 1px solid #dcdfe6;
  border-radius: 4px;
  font-size: 14px;
  transition: all 0.3s;
}

.search-input:focus {
  border-color: #409eff;
  outline: none;
  box-shadow: 0 0 0 2px rgba(64, 158, 255, 0.1);
}

.search-btn {
  padding: 8px 16px;
  background: #409eff;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s;
  box-shadow: 0 2px 6px rgba(64, 158, 255, 0.2);
}

.search-btn:hover {
  background: #66b1ff;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(64, 158, 255, 0.3);
}

.guide-content {
  padding: 0 12px;
}

.guide-intro {
  font-size: 16px;
  color: #606266;
  margin-bottom: 20px;
}

.guide-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.guide-list li {
  color: #606266;
  font-size: 14px;
  margin-bottom: 16px;
  line-height: 1.6;
  padding-left: 24px;
  position: relative;
}

.guide-list li:last-child {
  margin-bottom: 0;
}

.guide-list a {
  color: #409eff;
  text-decoration: none;
  transition: color 0.3s;
}

.guide-list a:hover {
  color: #66b1ff;
  text-decoration: underline;
}

.guide-section {
  margin-bottom: 32px;
}

.guide-section:last-child {
  margin-bottom: 0;
}

.guide-section h3 {
  font-size: 18px;
  color: #303133;
  margin-bottom: 16px;
  font-weight: 600;
  position: relative;
  padding-left: 12px;
}

.guide-section h3::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 16px;
  background: #409eff;
  border-radius: 2px;
}

.guide-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.guide-section li {
  color: #606266;
  font-size: 14px;
  margin-bottom: 12px;
  line-height: 1.6;
  padding-left: 24px;
  position: relative;
}

.guide-section li:last-child {
  margin-bottom: 0;
}

.guide-section a {
  color: #409eff;
  text-decoration: none;
  transition: color 0.3s;
}

.guide-section a:hover {
  color: #66b1ff;
  text-decoration: underline;
}
</style>
